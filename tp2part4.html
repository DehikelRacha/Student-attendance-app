<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Student Attendance Tracker</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
/* ===== GENERAL + NAVBAR ===== */
:root{
  --brand-deep:#561C24;
  --brand-deep-2:#561C24;
  --muted:#F3F6FA;
  --accent:#561C24;
  --bg:#E8DBC4;
  --card-bg:#ffffff;
  --success:#4caf50;
}
*{box-sizing:border-box}
body {
  font-family: "Poppins", sans-serif;
  background: var(--bg);
  margin: 0;
  color:#222;
}

/* NAV */
nav {
  background: linear-gradient(90deg, #561C24, #6D2932);
  color: #E8DBC4;
  padding: 14px 30px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
nav .title { font-size: 1.4em; font-weight: 600; }
nav ul {
  list-style: none;
  display: flex;
  gap: 20px;
  margin: 0;
  padding: 0;
}
nav a {
  color: #E8DBC4;
  text-decoration: none;
  font-weight: 500;
}
nav a:hover { color: #C7B7A3; }

/* ===== CONTAINER ===== */
.container {
  max-width: 1200px;
  margin: 30px auto;
  background: var(--card-bg);
  padding: 26px;
  border-radius: 14px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.08);
}

/* TOP CONTROLS (from picture) */
.top-controls {
  display:flex;
  gap:16px;
  align-items:center;
  flex-wrap:wrap;
  margin-bottom:18px;
}
.search-input {
  flex: 1 1 360px;
  display:flex;
  align-items:center;
  gap:10px;
  background: #f7f9fc;
  padding:8px;
  border-radius:10px;
  border:1px solid #e6eefb;
}
.search-input input{
  border:0;
  outline:0;
  background:transparent;
  padding:8px;
  width:100%;
  font-size:15px;
}
.btn {
  background:var(--brand-deep);
  color:white;
  padding:9px 14px;
  border-radius:8px;
  border:0;
  cursor:pointer;
  font-weight:600;
  box-shadow:0 6px 14px rgba(30,102,255,0.12);
}
.btn.secondary {
  background:#616972;
  box-shadow:none;
}
.sort-btn {
  display:inline-flex;
  gap:8px;
  align-items:center;
}

/* "Not sorted" */
.sorted-indicator { color:#6d6d6d; font-weight:600; margin-left:8px; }

/* CARDS ROW */
.cards {
  display:grid;
  grid-template-columns: 140px 1fr 1fr 280px;
  gap:16px;
  align-items:center;
  margin: 18px 0 22px 0;
}
.card {
  background:var(--muted);
  padding:14px;
  border-radius:10px;
  box-shadow: inset 0 -6px 12px rgba(0,0,0,0.02);
}
.card h4{ margin:0; font-size:14px; color:#6d6d6d; font-weight:600;}
.card .value{ font-weight:800; font-size:20px; color:#111; margin-top:8px; display:flex; align-items:center; justify-content:space-between;}
.progress-wrap{background:#eef6ff;border-radius:12px;padding:8px;margin-top:10px;}
.progress { height:14px; border-radius:12px; background:linear-gradient(90deg,var(--brand-deep),var(--brand-deep-2)); width:0; transition:width .5s ease; display:block; box-shadow:inset 0 -3px rgba(255,255,255,0.06);}
.session-counts{ color:#4b5563; font-weight:600; margin-top:6px; font-size:14px;}

/* TABLE */
h1 { text-align: left; color:var(--accent); margin:8px 0 14px 0; }
h2 { border-left:5px solid var(--accent); padding-left:10px; color:#6D2932; margin:12px 0;}
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 8px;
  border-radius: 8px;
  overflow: hidden;
}
th {
  background:#C7B7A3;
  color:#561C24;
  padding:8px;
  border:1px solid #6D2932;
  font-weight:700;
}
td {
  padding:8px;
  border:1px solid #C7B7A3;
  text-align:center;
  background:white;
}
tbody tr td { background:white !important; }

/* checkboxes */
input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color:#6D2932;
}

/* highlight + status classes */
.good td { background:#A5E6A1 !important; }
.warning td { background:#FFF8A6 !important; }
.danger td { background:#F28B82 !important; color:#7a1f1f !important; }
/* make excellent more visible (subtle blue tint + outline) */
.excellent td { background: rgba(30,102,255,0.06) !important; outline:3px solid rgba(30,102,255,0.12); box-shadow:0 4px 10px rgba(30,102,255,0.08); }

/* delete button */
.delete-btn {
  background:#6D2932;
  color:#E8DBC4;
  border:none;
  padding:6px 12px;
  border-radius:6px;
  cursor:pointer;
  font-weight:600;
}
.delete-btn:hover { background:#561C24; }

/* form */
form {
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:15px;
  margin-top:20px;
}
label { font-weight:600; color:#561C24; }
input[type="text"], input[type="email"] {
  width:100%;
  padding:9px;
  border:1px solid #C7B7A3;
  border-radius:6px;
}
button[type="submit"] {
  grid-column:span 2;
  background:linear-gradient(90deg,#6D2932,#561C24);
  color:#E8DBC4;
  padding:12px;
  border-radius:8px;
  border:none;
  cursor:pointer;
  font-weight:600;
}

/* report box */
.report-box{
  margin-top:18px;
  padding:16px;
  border-radius:8px;
  background:#C7B7A3;
  color:#561C24;
}
.report-row{display:flex;gap:14px;align-items:center;margin:6px 0;}
.report-value{font-weight:700;color:#6D2932;margin-left:8px;}
/* small screens */
@media (max-width:980px){
  .cards{ grid-template-columns: repeat(2,1fr); }
  .top-controls{flex-direction:column;align-items:stretch}
}
</style>
</head>
<body>

<nav>
  <div class="title">Attendance System</div>
  <ul>
    <li><a href="#home">Home</a></li>
    <li><a href="#attendance">Attendance</a></li>
    <li><a href="#add">Add Student</a></li>
    <li><a href="#report" id="reportLink">Report</a></li>
    <li><a href="#" id="logoutBtn">Logout</a></li>
  </ul>
</nav>

<div class="container" id="home">
  <h1>Attendance â€” Academic Version</h1>

  <!-- TOP CONTROLS (search + sort + actions) -->
  <div class="top-controls">
    <div class="search-input" title="Search by last or first name">
      <input id="searchInput" placeholder="Search by last or first name" />
    </div>

    <div style="display:flex;gap:8px;align-items:center;">
      <!-- added explicit type="button" -->
      <button id="sortAbsBtn" type="button" class="btn sort-btn">Sort by Absences â†‘</button>
      <button id="sortPartBtn" type="button" class="btn secondary sort-btn">Sort by Participation â†“</button>
      <span class="sorted-indicator" id="sortedIndicator">Not sorted</span>
    </div>

    <div style="margin-left:auto;display:flex;gap:10px;">
      <button id="showReportBtn" type="button" class="btn">Show Report</button>
      <!-- added explicit type="button" -->
      <button id="highlightExcellentBtn" type="button" class="btn">Highlight Excellent</button>
      <button id="resetColorsBtn" type="button" class="btn secondary">Reset Colors</button>
    </div>
  </div>

  <!-- SUMMARY CARDS -->
  <div class="cards" aria-hidden="false">
    <div class="card">
      <h4>Students</h4>
      <div class="value"><span id="cardStudents">0</span></div>
    </div>

    <div class="card">
      <h4>Attendance %</h4>
      <div class="progress-wrap">
        <div id="attendanceProgress" class="progress" style="width:0%"></div>
      </div>
      <div class="value" style="margin-top:6px;"><span></span><strong id="cardAttendancePct">0%</strong></div>
    </div>

    <div class="card">
      <h4>Participation %</h4>
      <div class="progress-wrap">
        <div id="participationProgress" class="progress" style="width:0%"></div>
      </div>
      <div class="value" style="margin-top:6px;"><span></span><strong id="cardParticipationPct">0%</strong></div>
    </div>

    <div class="card">
      <h4>Session Presents (S1â€“S6)</h4>
      <div class="session-counts" id="cardSessionCounts">0 / 0 / 0 / 0 / 0 / 0</div>
    </div>
  </div>

  <h2 id="attendance">Attendance Table</h2>

  <table id="attendanceTable" aria-describedby="attendance">
    <thead>
      <tr>
        <th>Last</th><th>First</th>

        <th colspan="2">S1</th>
        <th colspan="2">S2</th>
        <th colspan="2">S3</th>
        <th colspan="2">S4</th>
        <th colspan="2">S5</th>
        <th colspan="2">S6</th>

        <th>Abs</th><th>Part</th><th>Message</th><th>Action</th>
      </tr>

      <tr>
        <th></th><th></th>
        <th>P</th><th>Part</th>
        <th>P</th><th>Part</th>
        <th>P</th><th>Part</th>
        <th>P</th><th>Part</th>
        <th>P</th><th>Part</th>
        <th>P</th><th>Part</th>
        <th></th><th></th><th></th><th></th>
      </tr>
    </thead>

    <tbody>

      <!-- Row 1 -->
      <tr data-touched="true">
        <td>Dehikel</td><td>Racha</td>

        <td><input type="checkbox" checked></td><td><input type="checkbox" checked></td>
        <td><input type="checkbox" checked></td><td><input type="checkbox"></td>
        <td><input type="checkbox"></td><td><input type="checkbox"></td>
        <td><input type="checkbox"></td><td><input type="checkbox"></td>
        <td><input type="checkbox"></td><td><input type="checkbox"></td>
        <td><input type="checkbox"></td><td><input type="checkbox"></td>

        <td class="abs"></td>
        <td class="part"></td>
        <td class="msg"></td>
        <td><button class="delete-btn">Delete</button></td>
      </tr>

      <!-- Row 2 -->
      <tr data-touched="true">
        <td>Djelouah</td><td>Zineb</td>

        <td><input type="checkbox" checked></td><td><input type="checkbox" checked></td>
        <td><input type="checkbox"></td><td><input type="checkbox"></td>
        <td><input type="checkbox" checked></td><td><input type="checkbox"></td>
        <td><input type="checkbox" checked></td><td><input type="checkbox"></td>
        <td><input type="checkbox" checked></td><td><input type="checkbox"></td>
        <td><input type="checkbox" checked></td><td><input type="checkbox"></td>

        <td class="abs"></td>
        <td class="part"></td>
        <td class="msg"></td>
        <td><button class="delete-btn">Delete</button></td>
      </tr>

      <!-- Row 3 -->
      <tr data-touched="true">
        <td>Yacine</td><td>Ali</td>

        <td><input type="checkbox" checked></td><td><input type="checkbox"></td>
        <td><input type="checkbox" checked></td><td><input type="checkbox" checked></td>
        <td><input type="checkbox"></td><td><input type="checkbox" checked></td>
        <td><input type="checkbox" checked></td><td><input type="checkbox"></td>
        <td><input type="checkbox"></td><td><input type="checkbox"></td>
        <td><input type="checkbox"></td><td><input type="checkbox"></td>

        <td class="abs"></td>
        <td class="part"></td>
        <td class="msg"></td>
        <td><button class="delete-btn">Delete</button></td>
      </tr>

    </tbody>
  </table>

  <form id="studentForm">
    <div>
      <label>Student ID</label>
      <input type="text" id="id">
      <div class="error" id="idError"></div>
    </div>

    <div>
      <label>Last Name</label>
      <input type="text" id="lastName">
      <div class="error" id="lastError"></div>
    </div>

    <div>
      <label>First Name</label>
      <input type="text" id="firstName">
      <div class="error" id="firstError"></div>
    </div>

    <div>
      <label>Email</label>
      <input type="email" id="email">
      <div class="error" id="emailError"></div>
    </div>

    <button type="submit">Validate</button>
  </form>

  <!-- ==============================
         â­ WEEKLY BAR CHART â­
  ================================= -->
  <h2 style="margin-top:24px;">Weekly Attendance Chart</h2>
  <canvas id="weekChart" style="max-width:500px;margin:auto;display:block;"></canvas>

  <div class="report-box" id="report">
    <h3>ðŸ“Š Attendance Report</h3>
    <div class="report-row">Total students: <div class="report-value" id="rTotal">0</div></div>
    <div class="report-row">Present at least once: <div class="report-value" id="rPresent">0</div></div>
    <div class="report-row">Participated at least once: <div class="report-value" id="rParticipated">0</div></div>
    <div class="report-row">Excluded (5+ abs): <div class="report-value" id="rExcluded">0</div></div>
    <div class="report-row">Attendance rate: <div class="report-value" id="rAttendanceRate">0%</div></div>
    <div class="report-row">Participation rate: <div class="report-value" id="rParticipationRate">0%</div></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
/* =============================
       STATE FOR SORTING
============================= */
let currentSort = null; // 'abs-asc', 'abs-desc', 'part-asc', 'part-desc' or null

/* =============================
       UPDATE ATTENDANCE COLORS
============================= */
function updateAttendance() {
  const rows = document.querySelectorAll("#attendanceTable tbody tr");

  rows.forEach(row => {
    const checks = row.querySelectorAll("input[type='checkbox']");
    let abs = 0;
    let part = 0;

    // count absences (present boxes are at even indices 0,2,...10)
    for (let i = 0; i < 12; i += 2) {
      if (!checks[i].checked) abs++;
    }

    // count participation (odd indices 1,3,...11)
    for (let i = 1; i < 12; i += 2) {
      if (checks[i].checked) part++;
    }

    row.querySelector(".abs").textContent = abs;
    row.querySelector(".part").textContent = part;

    // remove status classes (but keep 'excellent' untouched here)
    row.classList.remove("good","warning","danger");

    if (abs < 3) row.classList.add("good");
    else if (abs <= 4) row.classList.add("warning");
    else row.classList.add("danger");

    const msg = row.querySelector(".msg");

    if (abs < 3) {
      msg.textContent = part >= 3
        ? "Good attendance â€“ Excellent participation"
        : "Good attendance â€“ Needs more participation";
    } else if (abs <= 4) msg.textContent = "Warning â€“ Attendance low";
    else msg.textContent = "Excluded â€“ Too many absences";
  });
}

/* =============================
       SEARCH / FILTER
============================= */
document.getElementById("searchInput").addEventListener("input", e => {
  const q = e.target.value.trim().toLowerCase();
  const rows = document.querySelectorAll("#attendanceTable tbody tr");
  rows.forEach(row => {
    const last = row.children[0].textContent.toLowerCase();
    const first = row.children[1].textContent.toLowerCase();
    if (!q || last.includes(q) || first.includes(q)) row.style.display = "";
    else row.style.display = "none";
  });
  updateReport();
  updateWeekChart();
});

/* =============================
         DELETE BUTTON
============================= */
document.querySelector("#attendanceTable tbody").addEventListener("click", e => {
  if (e.target.classList.contains("delete-btn")) {
    e.target.closest("tr").remove();
    updateAttendance();
    updateReport();
    updateWeekChart();
  }
});

/* =============================
         REPORT SYSTEM
============================= */
function updateReport() {
  const rows = [...document.querySelectorAll("#attendanceTable tbody tr")]
    .filter(r => r.style.display !== "none"); // count only visible rows for report & cards

  const total = rows.length;
  let presentStudents = 0;
  let participatedStudents = 0;
  let excluded = 0;

  let presentCounts = [0,0,0,0,0,0];

  rows.forEach(row => {
    const checks = row.querySelectorAll("input[type='checkbox']");

    let abs = 0;
    let present = false;
    let part = false;

    for (let s = 0; s < 6; s++) {
      const p = checks[s*2];
      const partBox = checks[s*2 + 1];

      if (p.checked) {
        present = true;
        presentCounts[s]++;
      } else abs++;

      if (partBox.checked) part = true;
    }

    if (present) presentStudents++;
    if (part) participatedStudents++;
    if (abs >= 5) excluded++;
  });

  // Update report numbers
  document.getElementById("rTotal").textContent = total;
  document.getElementById("rPresent").textContent = presentStudents;
  document.getElementById("rParticipated").textContent = participatedStudents;
  document.getElementById("rExcluded").textContent = excluded;

  const attendancePct = total ? ((presentStudents / total) * 100).toFixed(0) : 0;
  const participationPct = total ? ((participatedStudents / total) * 100).toFixed(0) : 0;

  document.getElementById("rAttendanceRate").textContent = attendancePct + "%";
  document.getElementById("rParticipationRate").textContent = participationPct + "%";

  // Update top cards
  document.getElementById("cardStudents").textContent = total;
  document.getElementById("cardAttendancePct").textContent = attendancePct + "%";
  document.getElementById("cardParticipationPct").textContent = participationPct + "%";
  document.getElementById("attendanceProgress").style.width = attendancePct + "%";
  document.getElementById("participationProgress").style.width = participationPct + "%";

  // session counts join
  document.getElementById("cardSessionCounts").textContent = presentCounts.join(" / ");
}

/* =============================
       ADD NEW STUDENT
============================= */
document.getElementById("studentForm").addEventListener("submit", function(e) {
  e.preventDefault();

  let id = document.getElementById("id").value.trim();
  let last = document.getElementById("lastName").value.trim();
  let first = document.getElementById("firstName").value.trim();
  let email = document.getElementById("email").value.trim();

  if (!id || !last || !first || !email) {
    alert("Please fill all fields.");
    return;
  }

  let tbody = document.querySelector("#attendanceTable tbody");
  let tr = document.createElement("tr");
  tr.setAttribute("data-touched", "true");

  tr.innerHTML = `
    <td>${last}</td>
    <td>${first}</td>

    <td><input type="checkbox"></td><td><input type="checkbox"></td>
    <td><input type="checkbox"></td><td><input type="checkbox"></td>
    <td><input type="checkbox"></td><td><input type="checkbox"></td>
    <td><input type="checkbox"></td><td><input type="checkbox"></td>
    <td><input type="checkbox"></td><td><input type="checkbox"></td>
    <td><input type="checkbox"></td><td><input type="checkbox"></td>

    <td class="abs"></td>
    <td class="part"></td>
    <td class="msg"></td>
    <td><button class="delete-btn">Delete</button></td>
  `;

  tbody.appendChild(tr);

  updateAttendance();
  updateReport();
  updateWeekChart();

  document.getElementById("studentForm").reset();
});

/* =========================================
        WEEKLY BAR CHART (S1 â†’ S6)
   ========================================= */
let weekChart = null;

function updateWeekChart() {
  const rows = [...document.querySelectorAll("#attendanceTable tbody tr")]
    .filter(r => r.style.display !== "none");

  let present = [0,0,0,0,0,0];
  let absent = [0,0,0,0,0,0];
  let participation = [0,0,0,0,0,0];

  rows.forEach(row => {
    const checks = row.querySelectorAll("input[type='checkbox']");
    for (let s = 0; s < 6; s++) {
      const presentBox = checks[s*2];
      const partBox = checks[s*2 + 1];
      if (presentBox.checked) present[s]++; else absent[s]++;
      if (partBox.checked) participation[s]++;
    }
  });

  const ctx = document.getElementById("weekChart");

  if (weekChart) weekChart.destroy();

  weekChart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ["S1","S2","S3","S4","S5","S6"],
      datasets: [
        { label: "Present", data: present, backgroundColor: "#4CAF50" },
        { label: "Absent", data: absent, backgroundColor: "#E57373" },
        { label: "Participation", data: participation, backgroundColor: "#64B5F6" }
      ]
    },
    options: {
      responsive: true,
      scales: {
        y: { beginAtZero: true, precision:0 }
      }
    }
  });

  // ensure cards update session counts too
  document.getElementById("cardSessionCounts").textContent = present.join(" / ");
}

/* =============================
      SORTING (Absences & Part)
============================= */

function applyCurrentSort() {
  const tbody = document.querySelector("#attendanceTable tbody");
  const rows = [...tbody.querySelectorAll("tr")];

  if (!currentSort) {
    document.getElementById("sortedIndicator").textContent = "Not sorted";
    return; // leave DOM order as-is
  }

  document.getElementById("sortedIndicator").textContent = currentSort.replace('-', ' ');

  const visibleRows = rows.filter(r => r.style.display !== "none");

  visibleRows.sort((a,b) => {
    const aAbs = parseInt(a.querySelector(".abs").textContent) || 0;
    const bAbs = parseInt(b.querySelector(".abs").textContent) || 0;
    const aPart = parseInt(a.querySelector(".part").textContent) || 0;
    const bPart = parseInt(b.querySelector(".part").textContent) || 0;

    if (currentSort.startsWith("abs")) {
      return currentSort.endsWith("asc") ? aAbs - bAbs : bAbs - aAbs;
    } else {
      return currentSort.endsWith("asc") ? aPart - bPart : bPart - aPart;
    }
  });

  // append in new order (only visible rows)
  visibleRows.forEach(r => tbody.appendChild(r));
}

// sort abs button toggles asc/desc
document.getElementById("sortAbsBtn").addEventListener("click", ev => {
  if (!currentSort || !currentSort.startsWith("abs")) currentSort = "abs-asc";
  else currentSort = currentSort === "abs-asc" ? "abs-desc" : "abs-asc";

  // update button text arrow
  const btn = ev.target;
  btn.textContent = `Sort by Absences ${currentSort.endsWith("asc") ? "â†‘" : "â†“"}`;

  applyCurrentSort();
  updateReport();
  updateWeekChart();
});

// sort participation button toggles asc/desc
document.getElementById("sortPartBtn").addEventListener("click", ev => {
  if (!currentSort || !currentSort.startsWith("part")) currentSort = "part-asc";
  else currentSort = currentSort === "part-asc" ? "part-desc" : "part-asc";

  const btn = ev.target;
  btn.textContent = `Sort by Participation ${currentSort.endsWith("asc") ? "â†‘" : "â†“"}`;

  applyCurrentSort();
  updateReport();
  updateWeekChart();
});

/* =============================
    HIGHLIGHT EXCELLENT + RESET
   ============================= */
/* FIXED: ensure updateAttendance runs first and make reset remove all status classes */
document.getElementById("highlightExcellentBtn").addEventListener("click", () => {
  updateAttendance(); // ensure counts are current
  updateReport();

  // excellent -> abs < 3 and part >= 3
  const rows = document.querySelectorAll("#attendanceTable tbody tr");
  rows.forEach(r => {
    const abs = parseInt(r.querySelector(".abs").textContent) || 0;
    const part = parseInt(r.querySelector(".part").textContent) || 0;
    r.classList.remove("excellent");
    if (abs < 3 && part >= 3) r.classList.add("excellent");
  });
});

document.getElementById("resetColorsBtn").addEventListener("click", () => {
  const rows = document.querySelectorAll("#attendanceTable tbody tr");
  rows.forEach(r => {
    r.classList.remove("excellent","good","warning","danger");
  });
  // re-apply normal status coloring based on attendance counts
  updateAttendance();
  updateReport();
  updateWeekChart();
});

/* =============================
   SHOW REPORT (scroll into view)
============================= */
document.getElementById("showReportBtn").addEventListener("click", () => {
  updateReport();
  updateWeekChart();
  document.getElementById("report").scrollIntoView({ behavior: "smooth" });
});

/* =============================
     REPORT LINK & LOGOUT
============================= */
document.getElementById("reportLink").addEventListener("click", (e) => {
  e.preventDefault();
  updateReport();
  updateWeekChart();
  document.getElementById("report").scrollIntoView({ behavior: "smooth" });
});

document.getElementById("logoutBtn").addEventListener("click", e => {
  e.preventDefault();
  if (confirm("Are you sure you want to log out?")) {
    document.body.innerHTML = `
      <div style="display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;background:${getComputedStyle(document.documentElement).getPropertyValue('--bg') || '#E8DBC4'};">
        <h1 style="color:#561C24;">You have been logged out.</h1>
        <p style="color:#6D2932;">Thank you for using the Attendance System.</p>
      </div>`;
  }
});

/* =============================
   LISTEN FOR CHECKBOX CHANGES
============================= */
document.querySelector("#attendanceTable tbody").addEventListener("change", e => {
  if (e.target.matches("input[type='checkbox']")) {
    updateAttendance();
    applyCurrentSort(); // keep sorted order correct after counts change
    updateReport();
    updateWeekChart();
  }
});

/* =============================
        INITIALIZATION
============================= */
updateAttendance();
updateReport();
updateWeekChart();
applyCurrentSort();
</script>

</body>
</html>
